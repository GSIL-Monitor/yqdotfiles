<?xml version="1.0"?>
<root>
  <appdef>
    <appname>Emacs</appname>
    <equal>org.gnu.Emacs</equal>
  </appdef>
  <appdef>
    <appname>PdfExpert</appname>
    <equal>com.readdle.PDFExpert-Mac</equal>
  </appdef>
  <appdef>
    <appname>SublimeText</appname>
    <equal>com.sublimetext.3</equal>
  </appdef>
  <appdef>
    <appname>atom</appname>
    <equal>com.github.atom</equal>
  </appdef>
  <appdef>
    <appname>Chrome</appname>
    <equal>com.google.Chrome</equal>
  </appdef>

  <appdef>
    <appname>Dash</appname>
    <equal>com.kapeli.dashdoc</equal>
  </appdef>
  <appdef>
    <appname>Xcode</appname>
    <equal>com.apple.dt.Xcode</equal>
  </appdef>

  <replacementdef>
    <replacementname>EMACS_MODE_IGNORE_APPS</replacementname>
    <replacementvalue>
      EMACS,
      TERMINAL,
      VI,
    </replacementvalue>
  </replacementdef>

  <vkopenurldef>
    <name>KeyCode::VK_OPEN_URL_APP_Vim</name>
    <url type="file">/usr/local/Cellar/macvim/7.4-99/MacVim.app</url>
  </vkopenurldef>

  <windownamedef>
    <name>Chrome_Dev_Tool</name>
    <regex>Developer\ Tools+</regex>
  </windownamedef>

  <devicevendordef>
    <vendorname>HHKB</vendorname>
    <vendorid>0x0853</vendorid>
  </devicevendordef>
  <deviceproductdef>
    <productname>HHKB</productname>
    <productid>0x0100</productid>
  </deviceproductdef>



  <item>
    <name>KeyBinding in Chrome Dev Tool</name>
    <identifier>private.windowname_chrome_dev_tool</identifier>
    <only>GOOGLE_CHROME</only>

    <windowname_only>Chrome_Dev_Tool</windowname_only>

    <autogen>
      __KeyToKey__
      KeyCode::U,ModifierFlag::CONTROL_L,
      KeyCode::F8,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::P,ModifierFlag::CONTROL_L,
      KeyCode::F10,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::I,ModifierFlag::CONTROL_L,
      KeyCode::F11,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::O,ModifierFlag::CONTROL_L,
      KeyCode::F11,ModifierFlag::SHIFT_L,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::B,ModifierFlag::CONTROL_L,
      KeyCode::B,ModifierFlag::COMMAND_L,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::C,ModifierFlag::CONTROL_L,
      KeyCode::BACKQUOTE,ModifierFlag::CONTROL_L,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::BRACKET_LEFT,ModifierFlag::CONTROL_L,
      KeyCode::BRACKET_LEFT,ModifierFlag::COMMAND_L,
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::BRACKET_RIGHT,ModifierFlag::CONTROL_L,
      KeyCode::BRACKET_RIGHT,ModifierFlag::COMMAND_L,
    </autogen>
  </item>

  <item>
    <name>Option to C-S-P in sublimetext</name>
    <identifier>sublimetext.option</identifier>

    <only>SublimeText,atom</only>

    <autogen>
      __KeyOverlaidModifier__
      KeyCode::OPTION_L,
      KeyCode::OPTION_L,
      KeyCode::P,ModifierFlag::SHIFT_L,ModifierFlag::COMMAND_L,
    </autogen>
  </item>

  <item>
    <name>Leader in Emcas insert mode</name>
    <identifier>emcas_insert_leader</identifier>
    <only>Emacs</only>
    <autogen>__KeyToKey__ KeyCode::JIS_KANA, KeyCode::M, ModifierFlag::OPTION_L</autogen>
  </item>

  <item>
    <name>COMMAND_R as OPTION_R in Emacs</name>
    <identifier>emcas_option_l</identifier>
    <only>Emacs</only>
    <autogen>__KeyToKey__ KeyCode::COMMAND_R, KeyCode::OPTION_L</autogen>
  </item>

  <item>
    <name>HHKB Leader in Emcas insert mode</name>
    <identifier>emcas_insert_leader_hhkb</identifier>
    <only>Emacs</only>
    <device_only>DeviceVendor::HHKB,DeviceProduct::HHKB</device_only>
    <autogen>__KeyToKey__ KeyCode::COMMAND_R, KeyCode::M, ModifierFlag::OPTION_L</autogen>
  </item>

  <item>
    <name>button4 to define</name>
    <identifier>mouse_button4_to_define</identifier>

    <autogen>__KeyToKey__ PointingButton::BUTTON4,KeyCode::D,ModifierFlag::COMMAND_L,ModifierFlag::CONTROL_L</autogen>
  </item>

  <item>
    <name>Change C-jk to A-arrow key in dash</name>
    <identifier>Arrow_key_in_Dash</identifier>

    <only>Dash</only>

    <autogen>__KeyToKey__ KeyCode::J,ModifierFlag::CONTROL_L ,KeyCode::CURSOR_DOWN,ModifierFlag::OPTION_L</autogen>
    <autogen>__KeyToKey__ KeyCode::K,ModifierFlag::CONTROL_L ,KeyCode::CURSOR_UP,ModifierFlag::OPTION_L</autogen>
  </item>

  <item>
    <name>eisuu</name>
    <identifier>private.switch_profile ensue</identifier>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::JIS_EISUU,
      KeyCode::COMMAND_L,ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::SPACE, ModifierFlag::OPTION_L,
    </autogen>

  </item>

  <item>
    <name>kana to F18</name>
    <identifier>private.switch_profile kana</identifier>
    <autogen>
      __HoldingKeyToKey__
      KeyCode::JIS_KANA, ModifierFlag::NONE,
      <!-- short press -->
      @begin
      KeyCode::W, ModifierFlag::COMMAND_L,
      @end
      <!-- hold -->
      @begin
      KeyCode::W, ModifierFlag::COMMAND_L,
      @end
      Option::NOREPEAT,
    </autogen>
    <autogen>
      __DoublePressModifier__
      KeyCode::JIS_KANA,
      KeyCode::OPTION_L, ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::W, ModifierFlag::COMMAND_L,
    </autogen>
  </item>

  <item>
    <name>COMMAND_R to C-w</name>
    <identifier>private.switch_profile COMMAND_R</identifier>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::COMMAND_R,
      KeyCode::COMMAND_R,
      KeyCode::W, ModifierFlag::COMMAND_L
    </autogen>
  </item>

  <!-- 把F18改成右边的OPTION+SHIFT+CONTROL -->
  <item>
    <name>modify F18</name>
    <identifier>private.f18</identifier>
    <autogen>
      __KeyToKey__ KeyCode::F18, KeyCode::OPTION_L, ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L
    </autogen>
  </item>

  <item>
    <name>F19 to Hyper</name>
    <appendix>(F19 to Hyper (ctrl+shift+cmd+opt) + F19 Only, F19)</appendix>
    <identifier>private.f192f19</identifier>
    <autogen>
      __KeyToKey__ KeyCode::F19, KeyCode::MINUS, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::COMMAND_L
    </autogen>
  </item>

  <item>
    <name>Hyper+Tab To Capslock</name>
    <appendix>Hyper(cmd+ctrl+shift+opt)+tab, send capslock</appendix>
    <identifier>private.hypertab2capslock</identifier>
    <autogen>
      __KeyToKey__
      KeyCode::TAB, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::COMMAND_L, KeyCode::CAPSLOCK
    </autogen>
  </item>

  <item>
    <name>OPTION_L to Hyper-w</name>
    <appendix>OPTION_L</appendix>
    <identifier>private.OPTION_L</identifier>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::OPTION_L,
      KeyCode::OPTION_L,
      KeyCode::W, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,ModifierFlag::COMMAND_L,
    </autogen>
  </item>

  <item>
    <name>HHKB OPTION_R to Hyper-w</name>
    <appendix>OPTION_R</appendix>
    <identifier>private.OPTION_R_HHKB</identifier>
        <device_only>DeviceVendor::HHKB,DeviceProduct::HHKB</device_only>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::OPTION_R,
      KeyCode::OPTION_R,
      KeyCode::W, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,ModifierFlag::COMMAND_L,
    </autogen>
  </item>

  <item>
    <name>HHKB OPTION_R to Hyper</name>
    <appendix>OPTION_R</appendix>
    <identifier>private.OPTION_R</identifier>
    <device_only>DeviceVendor::HHKB,DeviceProduct::HHKB</device_only>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::OPTION_R,
      KeyCode::COMMAND_L, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::SPACE, ModifierFlag::OPTION_L,
    </autogen>
  </item>

  <item>
    <name>HHKB OPTION_L to Hyper</name>
    <appendix>OPTION_L</appendix>
    <identifier>private.OPTION_L_HHKB</identifier>
    <device_only>DeviceVendor::HHKB,DeviceProduct::HHKB</device_only>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::OPTION_L,
      KeyCode::COMMAND_L, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::SPACE, ModifierFlag::OPTION_L,
    </autogen>
  </item>

  <item>
    <name>COMMAND_L to Hyper-s </name>
    <appendix>command</appendix>
    <identifier>private.COMMAND</identifier>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::COMMAND_L,
      KeyCode::COMMAND_L,
      KeyCode::S, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L
    </autogen>
  </item>

  <item>
    <name>Hold COMMAND_L to Hyper-l </name>
    <appendix>command</appendix>
    <identifier>private.COMMANDD</identifier>
    <autogen>
      __HoldingKeyToKey__
      KeyCode::COMMAND_L, ModifierFlag::NONE,
      <!-- short press -->
      @begin
      KeyCode::COMMAND_L, ModifierFlag::NONE,
      @end
      <!-- hold -->
      @begin
      KeyCode::L, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      @end
      Option::NOREPEAT,
    </autogen>
  </item>

  <item>
    <name>double press option to space+option</name>
    <appendix>double press command to Hyper+P</appendix>
    <identifier>private.OPTION</identifier>
    <autogen>
      __DoublePressModifier__
      KeyCode::OPTION_L,
      KeyCode::OPTION_L,
      KeyCode::Q,ModifierFlag::COMMAND_L,
    </autogen>
  </item>

</root>


